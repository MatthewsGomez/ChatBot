version: "3.1"

stories:

- story: paquete feliz
  steps:
  - intent: saludo
  - action: utter_saludo
  - intent: bien
  - action: utter_feliz

- story: paquete triste 1
  steps:
  - intent: saludo
  - action: utter_saludo
  - intent: triste
  - action: utter_animar
  - action: utter_ayudo
  - intent: afirmar
  - action: utter_feliz

- story: paquete triste 2
  steps:
  - intent: saludo
  - action: utter_saludo
  - intent: triste
  - action: utter_animar
  - action: utter_ayudo
  - intent: denegar
  - action: utter_despedida

- story: inicio de sesión automático al empezar
  steps:
  - action: action_session_start
  - intent: solicitar_login
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_login
  - slot_was_set:
    - autenticado: true

- story: registro al inicio
  steps:
  - action: action_session_start
  - intent: solicitar_registro
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_registro
  - intent: solicitar_login
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_login
  - slot_was_set:
    - autenticado: true

- story: login exitoso
  steps:
  - intent: solicitar_login
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_login
  - slot_was_set:
    - autenticado: true

- story: login fallido
  steps:
  - intent: solicitar_login
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_login
  - slot_was_set:
    - autenticado: false

- story: registro exitoso
  steps:
  - intent: solicitar_registro
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_registro

- story: registro y luego login
  steps:
  - intent: solicitar_registro
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_registro
  - intent: solicitar_login
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_login
  - slot_was_set:
    - autenticado: true

- story: hacer prediccion despues de login
  steps:
  - intent: solicitar_login
  - action: utter_pedir_credenciales_registro
  - intent: proporcionar_credenciales
  - action: action_login
  - slot_was_set:
    - autenticado: true
  - intent: solicitar_prediccion
  - action: utter_prediccion_iniciada
  - action: prediccion_form
  - active_loop: prediccion_form

- story: prediccion completa con formulario
  steps:
  - intent: solicitar_prediccion
  - action: utter_prediccion_iniciada
  - action: prediccion_form
  - active_loop: prediccion_form
  - active_loop: null
  - action: action_hacer_prediccion

- story: usuario autenticado hace prediccion
  steps:
  - slot_was_set:
    - autenticado: true
  - intent: solicitar_prediccion
  - action: utter_prediccion_iniciada
  - action: prediccion_form
  - active_loop: prediccion_form
  - active_loop: null
  - action: action_hacer_prediccion