version: "3.1"

rules:

- rule: despedida
  steps:
  - intent: despedir
  - action: utter_despedida

- rule: soy bot
  steps:
  - intent: bot_reto
  - action: utter_soy_bot

- rule: solicitar login
  steps:
  - intent: solicitar_login
  - action: utter_pedir_credenciales_registro

- rule: solicitar registro
  steps:
  - intent: solicitar_registro
  - action: utter_pedir_credenciales_registro

- rule: activar session start
  conversation_start: true
  steps:
  - action: action_session_start

- rule: Activar formulario de prediccion
  steps:
  - intent: solicitar_prediccion
  - action: utter_prediccion_iniciada
  - action: prediccion_form
  - active_loop: prediccion_form

- rule: Enviar predicci√≥n cuando el formulario termine
  condition:
  - active_loop: prediccion_form
  steps:
  - action: prediccion_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_hacer_prediccion