version: "3.1"

intents:
  - saludo
  - despedir
  - afirmar
  - denegar
  - bien
  - triste
  - bot_reto
  - solicitar_login
  - solicitar_registro
  - proporcionar_credenciales
  - session_start
  - solicitar_prediccion
  - solicitar_historial
  - proporcionar_email

entities:
  - usuario
  - contraseÃ±a
  - email
  - dia_semana
  - control_cruce
  - detalle_cruce
  - condiciones_luz
  - distrito
  - superficie_via
  - tipo_via
  - velocidad
  - area
  - clima
  - tipo_vehiculo
  - numero_victimas
  - numero_vehiculos

slots:
  usuario:
    type: text
    mappings:
      - type: from_entity
        entity: usuario
  
  contraseÃ±a:
    type: text
    mappings:
      - type: from_entity
        entity: contraseÃ±a
  
  email:
    type: text
    mappings:
      - type: from_entity
        entity: email
  
  id_usuario:
    type: text
    mappings:
      - type: custom
  
  autenticado:
    type: bool
    initial_value: false
    mappings:
      - type: custom

  # Slots para la predicciÃ³n
  day_of_week:
    type: float
    mappings:
      - type: from_entity
        entity: dia_semana
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: day_of_week

  junction_control:
    type: float
    mappings:
      - type: from_entity
        entity: control_cruce
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: junction_control

  junction_detail:
    type: float
    mappings:
      - type: from_entity
        entity: detalle_cruce
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: junction_detail

  light_conditions:
    type: float
    mappings:
      - type: from_entity
        entity: condiciones_luz
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: light_conditions

  local_authority:
    type: float
    mappings:
      - type: from_entity
        entity: distrito
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: local_authority

  road_surface:
    type: float
    mappings:
      - type: from_entity
        entity: superficie_via
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: road_surface

  road_type:
    type: float
    mappings:
      - type: from_entity
        entity: tipo_via
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: road_type

  speed_limit:
    type: float
    mappings:
      - type: from_entity
        entity: velocidad
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: speed_limit

  urban_rural:
    type: float
    mappings:
      - type: from_entity
        entity: area
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: urban_rural

  weather:
    type: float
    mappings:
      - type: from_entity
        entity: clima
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: weather

  vehicle_type:
    type: float
    mappings:
      - type: from_entity
        entity: tipo_vehiculo
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: vehicle_type

  casualties:
    type: float
    mappings:
      - type: from_entity
        entity: numero_victimas
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: casualties

  num_vehicles:
    type: float
    mappings:
      - type: from_entity
        entity: numero_vehiculos
      - type: from_text
        conditions:
         - active_loop: prediccion_form
           requested_slot: num_vehicles

forms:
  prediccion_form:
    required_slots:
      - day_of_week
      - junction_control
      - junction_detail
      - light_conditions
      - local_authority
      - road_surface
      - road_type
      - speed_limit
      - urban_rural
      - weather
      - vehicle_type
      - casualties
      - num_vehicles

responses:
  utter_saludo:
  - text: "Â¡Hola! Â¿CÃ³mo estÃ¡s?"
  - text: "Â¡Hola! Â¿QuÃ© tal tu dÃ­a?"
  - text: "Â¡Buenas! Â¿CÃ³mo te va?"
  - text: "Â¡Hey! Â¿CÃ³mo andas?"
  - text: "Â¡Saludos! Â¿Todo bien?"

  utter_animar:
  - text: "AquÃ­ tienes algo para animarte:\na donde fue la niÃ±a despues de la explociÃ³n?\na todas partes XD"
  - text: "Â¡Ãnimo! Mira esto:\nque le pasÃ³ al ladron que le cayÃ³ un policia gordo?\nle cayÃ³ todo el peso de la ley\nJAJAJAJAJAJAJAJ"
  - text: "Esto te va a alegrar el dÃ­a:\nque le dijo una iguana a otra iguana?\nsomos iguanitas JEJEJEJE"
  - text: "Â¡No te desanimes! Mira esto:\nporque una niÃ±a sin piernas no puede jugar futbol?...\nporque es mujer XDXD"

  utter_ayudo:
  - text: "Â¿Te ayudo en algo?"
  - text: "Â¿Puedo ayudarte?"
  - text: "Â¿Necesitas algo?"
  - text: "Â¿En quÃ© te puedo asistir?"
  - text: "Â¿Hay algo en lo que pueda ayudarte?"

  utter_feliz:
  - text: "Â¡Genial, sigue adelante!"
  - text: "Â¡Excelente! Me alegro mucho."
  - text: "Â¡FantÃ¡stico! Sigue asÃ­."
  - text: "Â¡QuÃ© bien! Me encanta escuchar eso."
  - text: "Â¡Perfecto! ContinÃºa con esa actitud."

  utter_despedida:
  - text: "Â¡Hasta luego! CuÃ­date. ğŸ‘‹"
  - text: "Â¡AdiÃ³s! Que tengas un excelente dÃ­a. ğŸ˜Š"
  - text: "Â¡Nos vemos pronto! Maneja con cuidado. ğŸš—"
  - text: "Â¡Hasta la prÃ³xima! Recuerda siempre la seguridad vial. ğŸ›¡ï¸"
  - text: "Â¡Chao! Espero haberte ayudado. ğŸ‘"

  utter_soy_bot:
  - text: "Soy un bot especializado en anÃ¡lisis de accidentes de trÃ¡nsito, creado con Rasa. ğŸ¤–"
  - text: "Soy un asistente virtual creado por Rasa para ayudarte con predicciones de severidad de accidentes. ğŸš¦"
  - text: "Soy un bot inteligente que analiza la severidad de accidentes vehiculares. ğŸš—"
  - text: "Soy tu asistente automatizado para predicciones de accidentes de trÃ¡fico. ğŸ›¡ï¸"
  - text: "Me llamo Bot de PredicciÃ³n de Accidentes, creado con tecnologÃ­a Rasa. ğŸ¤–ğŸš¨"

  utter_pedir_credenciales_registro:
  - text: "ğŸ“ Para continuar, necesito tu usuario y contraseÃ±a.\n\nEscribe en formato:\nusuario: tu_usuario, contraseÃ±a: tu_contraseÃ±a"
  - text: "ğŸ” Por favor ingresa tus datos de registro:\n\nFormato: usuario: tu_usuario, contraseÃ±a: tu_contraseÃ±a"
  - text: "âœï¸ Necesito que me proporciones:\n\nâ€¢ Usuario\nâ€¢ ContraseÃ±a\n\nFormato: usuario: tu_usuario, contraseÃ±a: tu_contraseÃ±a"
  - text: "ğŸ“‹ Para continuar necesito:\n\nFormato: usuario: tu_usuario, contraseÃ±a: tu_contraseÃ±a"
  - text: "ğŸ†• Para poder proseguir necesito tus credenciales. Escribe asÃ­:\n\nusuario: tu_usuario, contraseÃ±a: tu_contraseÃ±a"

  utter_solicitar_login_inicial:
  - text: "ğŸ” Para comenzar a usar el chat, necesitas iniciar sesiÃ³n.\n\nÂ¿Ya tienes una cuenta o necesitas registrarte?"
  - text: "ğŸ‘‹ Â¡Bienvenido!\n\nPara acceder al sistema, por favor inicia sesiÃ³n o regÃ­strate si es tu primera vez."
  - text: "ğŸš¦ Para utilizar el sistema de predicciÃ³n de accidentes, primero debes autenticarte.\n\nÂ¿Tienes cuenta o necesitas crear una?"
  - text: "ğŸ”’ Hola! Este es un sistema protegido.\n\nPor favor, inicia sesiÃ³n o regÃ­strate para continuar."
  - text: "ğŸ‘¤ Â¡Hola! Necesito que inicies sesiÃ³n para poder ayudarte.\n\nÂ¿Ya tienes cuenta?"

  utter_bienvenida_post_login:
  - text: "ğŸ‰ Â¡Bienvenido al Sistema de PredicciÃ³n de Severidad de Accidentes!\n\nğŸš— Puedo ayudarte a predecir quÃ© tan grave podrÃ­a ser un accidente basÃ¡ndome en diferentes factores.\n\nğŸ“Š Te darÃ© una predicciÃ³n sobre si el accidente podrÃ­a ser:\nâ€¢ ğŸ’š Leve (sin heridos graves)\nâ€¢ ğŸš‘ Grave (con heridos)\nâ€¢ ğŸš¨ Muy grave (con fallecidos)\n\nğŸ’¬ Escribe 'quiero hacer una predicciÃ³n' para comenzar.\nğŸ“‹ O 'ver mi historial' para consultar tus predicciones anteriores.\n\nÂ¿En quÃ© puedo ayudarte hoy?"
  - text: "âœ¨ Â¡Genial! Ya estÃ¡s dentro del sistema.\n\nğŸ¤– Soy tu asistente de anÃ¡lisis de accidentes de trÃ¡nsito.\n\nğŸ¯ Te darÃ© predicciones precisas para ayudarte a entender el nivel de riesgo.\n\nğŸ’¬ Di 'hacer predicciÃ³n' cuando estÃ©s listo.\nğŸ“§ O 'ver historial' para revisar tus anÃ¡lisis anteriores.\n\nÂ¿QuÃ© informaciÃ³n necesitas?"
  - text: "ğŸ‘‹ Â¡Hola! Bienvenido al sistema de predicciÃ³n de accidentes.\n\nğŸ“ˆ Analizo la severidad de accidentes basÃ¡ndome en 13 factores clave.\n\nğŸ”® Predicciones disponibles:\nâ€¢ Severidad: Leve, Grave o Fatal\nâ€¢ Modelos: Random Forest, SVM, KNN\n\nâœï¸ Escribe 'predicciÃ³n' para empezar.\nğŸ“œ O 'historial' para ver registros previos."
  - text: "ğŸš€ Â¡Sistema activado!\n\nğŸ’¡ Te ayudarÃ© a predecir la gravedad de accidentes de trÃ¡fico.\n\nğŸ¯ Proceso simple:\n1ï¸âƒ£ Hacer predicciÃ³n (13 preguntas)\n2ï¸âƒ£ Ver historial (por email)\n\nğŸ¤” Â¿QuÃ© deseas hacer?"
  - text: "ğŸŒŸ Â¡Acceso concedido!\n\nğŸ›¡ï¸ Sistema de PredicciÃ³n de Severidad de Accidentes listo.\n\nğŸ“‹ Opciones:\nâ€¢ Nueva predicciÃ³n\nâ€¢ Consultar historial\n\nğŸ’¬ Â¿CÃ³mo te ayudo?"

  utter_pedir_email:
  - text: "ğŸ“§ Por favor, proporciona tu correo electrÃ³nico donde quieres recibir el historial.\n\nEjemplo: micorreo@ejemplo.com"
  - text: "ğŸ“¬ Â¿A quÃ© correo electrÃ³nico te lo envÃ­o?\n\nEscribe tu email."
  - text: "âœ‰ï¸ Necesito tu direcciÃ³n de correo para enviarte el PDF.\n\nÂ¿CuÃ¡l es tu email?"
  - text: "ğŸ“¨ Dime tu email para enviarte el historial.\n\nEjemplo: usuario@correo.com"
  - text: "ğŸ’Œ Â¿A quÃ© correo te envÃ­o el PDF con tu historial?"

  utter_ask_day_of_week:
  - text: "ğŸ“… Â¿En quÃ© dÃ­a de la semana ocurre/ocurriÃ³ el accidente?"
  - text: "ğŸ“† Â¿QuÃ© dÃ­a de la semana es/fue?"
  - text: "ğŸ—“ï¸ Dime el dÃ­a de la semana del accidente."
  - text: "ğŸ“… Â¿CuÃ¡l es el dÃ­a de la semana? (lunes, martes, etc.)"
  - text: "ğŸ”¢ Â¿En quÃ© dÃ­a ocurre? Puedes decir el nombre."

  utter_ask_junction_control:
  - text: "ğŸš¦ Â¿QuÃ© tipo de control hay en el cruce?"
  - text: "ğŸš¥ Â¿CÃ³mo estÃ¡ controlado el cruce? (semÃ¡foro, stop, etc.)"
  - text: "ğŸ”´ Â¿Hay algÃºn control en el cruce? Â¿CuÃ¡l?"
  - text: "ğŸš¦ Dime quÃ© tipo de seÃ±alizaciÃ³n tiene el cruce."
  - text: "âš ï¸ Â¿QuÃ© control de trÃ¡fico hay? (semÃ¡foro, rotonda, sin control, etc.)"

  utter_ask_junction_detail:
  - text: "ğŸ”€ Â¿QuÃ© tipo de cruce es?"
  - text: "ğŸ›£ï¸ Â¿CÃ³mo es el cruce? (cruce en T, rotonda, simple, etc.)"
  - text: "ğŸ”€ Describe el tipo de intersecciÃ³n."
  - text: "ğŸš§ Â¿QuÃ© clase de cruce es? (en T, en Y, mÃºltiple, etc.)"
  - text: "ğŸ“ Â¿Puedes detallar el tipo de cruce?"

  utter_ask_light_conditions:
  - text: "ğŸ’¡ Â¿CuÃ¡les son las condiciones de luz?"
  - text: "ğŸŒ Â¿CÃ³mo estÃ¡ la iluminaciÃ³n? (dÃ­a, oscuro, amanecer, etc.)"
  - text: "ğŸ”¦ Â¿QuÃ© condiciones de luz hay?"
  - text: "â˜€ï¸ Â¿Es de dÃ­a, de noche, hay iluminaciÃ³n?"
  - text: "ğŸ’¡ Dime las condiciones de visibilidad/luz."

  utter_ask_local_authority:
  - text: "ğŸ“ Â¿En quÃ© distrito ocurre?"
  - text: "ğŸ—ºï¸ Â¿CuÃ¡l es el distrito? (0, 1, 3, 4, 76, 159, 176, 267, 384)"
  - text: "ğŸ“Œ Dime el nÃºmero del distrito."
  - text: "ğŸ™ï¸ Â¿En quÃ© distrito o zona se da?"
  - text: "ğŸ“ Â¿QuÃ© distrito? Ejemplos: 0, 1, 3, 4, 76, 159, 176, 267, 384"

  utter_ask_road_surface:
  - text: "ğŸ›£ï¸ Â¿CuÃ¡l es la condiciÃ³n de la superficie de la vÃ­a?"
  - text: "ğŸŒ§ï¸ Â¿CÃ³mo estÃ¡ la superficie? (seco, hÃºmedo, hielo, etc.)"
  - text: "ğŸ›¤ï¸ Â¿En quÃ© estado se encuentra el pavimento?"
  - text: "ğŸ’§ Â¿La vÃ­a estÃ¡ seca, mojada, con hielo?"
  - text: "ğŸš— Describe la condiciÃ³n del asfalto/superficie."

  utter_ask_road_type:
  - text: "ğŸš— Â¿QuÃ© tipo de vÃ­a es?"
  - text: "ğŸ›£ï¸ Â¿Es calle, avenida, autopista o carretera?"
  - text: "ğŸš™ Dime el tipo de vÃ­a (calle, avenida, carretera, etc.)"
  - text: "ğŸ Â¿QuÃ© clase de vÃ­a es?"
  - text: "ğŸ›¤ï¸ Â¿Puedes especificar el tipo de vÃ­a?"

  utter_ask_speed_limit:
  - text: "âš¡ Â¿CuÃ¡l es el lÃ­mite de velocidad en km/h?"
  - text: "ğŸš¦ Â¿QuÃ© velocidad mÃ¡xima estÃ¡ permitida?"
  - text: "ğŸ“ Dime el lÃ­mite de velocidad (30, 40, 50, 60, etc.)"
  - text: "âš¡ Â¿A quÃ© velocidad se puede circular ahÃ­?"
  - text: "ğŸ”¢ Â¿CuÃ¡l es la velocidad lÃ­mite en esa zona?"

  utter_ask_urban_rural:
  - text: "ğŸ™ï¸ Â¿El Ã¡rea es urbana o rural?"
  - text: "ğŸŒ† Â¿Es zona urbana (ciudad) o rural (campo)?"
  - text: "ğŸ˜ï¸ Â¿Estamos en Ã¡rea urbana o rural?"
  - text: "ğŸŒƒ Dime si es ciudad o campo."
  - text: "ğŸ—ºï¸ Â¿Zona urbana o zona rural?"

  utter_ask_weather:
  - text: "ğŸŒ¤ï¸ Â¿CuÃ¡les son las condiciones climÃ¡ticas?"
  - text: "â˜€ï¸ Â¿CÃ³mo estÃ¡ el clima? (despejado, lluvia, niebla, etc.)"
  - text: "ğŸŒ§ï¸ Â¿QuÃ© tiempo hace?"
  - text: "â›… Dime las condiciones del clima."
  - text: "ğŸŒ¦ï¸ Â¿EstÃ¡ lloviendo, soleado, nublado?"

  utter_ask_vehicle_type:
  - text: "ğŸš™ Â¿QuÃ© tipo de vehÃ­culo estÃ¡ involucrado?"
  - text: "ğŸš— Â¿QuÃ© vehÃ­culo es? (coche, moto, camiÃ³n, bus, etc.)"
  - text: "ğŸï¸ Dime el tipo de vehÃ­culo."
  - text: "ğŸš• Â¿QuÃ© clase de vehÃ­culo participa?"
  - text: "ğŸšŒ Â¿Es coche, moto, camiÃ³n, autobÃºs, bicicleta?"

  utter_ask_casualties:
  - text: "ğŸš‘ Â¿CuÃ¡ntas vÃ­ctimas potenciales hay?"
  - text: "ğŸ‘¥ Â¿CuÃ¡ntas personas estÃ¡n heridas o afectadas?"
  - text: "ğŸ©¹ Dime el nÃºmero de vÃ­ctimas potenciales."
  - text: "ğŸš¨ Â¿CuÃ¡ntas vÃ­ctimas hubo?"
  - text: "ğŸ’” Â¿Hay vÃ­ctimas? Â¿CuÃ¡ntas?"

  utter_ask_num_vehicles:
  - text: "ğŸš—ğŸš— Â¿CuÃ¡ntos vehÃ­culos estÃ¡n involucrados?"
  - text: "ğŸš™ğŸš• Â¿CuÃ¡ntos vehÃ­culos participan en el accidente?"
  - text: "ğŸ”¢ Dime el nÃºmero de vehÃ­culos."
  - text: "ğŸš˜ Â¿CuÃ¡ntos vehÃ­culos hay?"
  - text: "ğŸš— Â¿NÃºmero de vehÃ­culos involucrados?"

  utter_prediccion_iniciada:
  - text: "ğŸ”® Â¡Perfecto! Voy a hacerte algunas preguntas para analizar el accidente.\n\nğŸ“ Son 13 preguntas rÃ¡pidas. Â¡Empecemos!"
  - text: "âœ… Â¡Excelente! Iniciando anÃ¡lisis de predicciÃ³n.\n\nğŸ“‹ Necesito 13 datos del accidente. Â¡Comencemos!"
  - text: "ğŸ¯ Â¡Genial! Vamos a predecir la severidad del accidente.\n\nğŸ”¢ Te harÃ© 13 preguntas breves. Â¡Adelante!"
  - text: "ğŸš€ Â¡Perfecto! Empecemos con la predicciÃ³n.\n\nğŸ’¬ Son solo 13 preguntas rÃ¡pidas. Â¡Vamos!"
  - text: "ğŸ“Š Â¡Listo! Iniciando proceso de predicciÃ³n.\n\nâœï¸ Responde 13 preguntas y te darÃ© el resultado. Â¡Empecemos!"

actions:
  - action_login
  - action_registro
  - action_verificar_autenticacion
  - action_session_start
  - action_hacer_prediccion
  - action_enviar_historial
  - validate_prediccion_form

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false